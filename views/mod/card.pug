mixin mod-card(mod, currentBundle)
    div(class=(mod.deletion ? 'to-be-deleted' : '')).card.mod-card
        img(src=(mod.bannerImageUrl || '/images/Screenshot_14.png') alt=('banner image for the ' + mod.title + ' mod')).card-img-top
        div.card-body
            h5.card-title
                b #{mod.title}
                | 
                small.d-inline-block.text-muted by #[a(href=`/user/${mod.author}`)=mod.author]
            p.card-text=mod.description
        div.pt-0.pb-3.card-footer.bg-white.border-0.d-flex.justify-space-between
            .mr-auto
                a(href='/mods/' + mod.id).btn.btn-primary.mr-2 View mod
                if loggedIn && enableBundlesSection
                    a(href='/bundle/addmod?mod=' + mod.id title='Add this mod to a bundle').btn.btn-outline-secondary.btn-sm.mr-1 #[i.fas.fa-cubes]
                    if currentBundle && (userIsBundleOwner || userIsAdmin)
                        a(href=`/bundle/${currentBundle.id}/removemod?mod=${mod.id}` title='Remove this mod from this bundle').btn.btn-outline-danger.btn-sm.mr-1 #[i.fas.fa-minus.mr-1] Remove
            if mod['mod-versions'] && mod['mod-versions'].length > 0 && mod['mod-versions'][0].minCompatibleRmlVersion
                span.align-self-center
                    include version-compatibility-badge
                    +version-compatibility-badge(mod['mod-versions'][0], currentRmlVersion, true)
            if mod.deletion
                span.align-self-center
                    span(title='This mod is scheduled for deletion and not publicly visible anymore.').badge.badge-pill.badge-warning.mx-1 Deletion scheduled
